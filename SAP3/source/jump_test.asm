	.org 0

CPU:	LXI SP,(STACK)	;SET THE STACK POINTER
;INITIALIZE A REG. AND CLEAR ALL FLAGS
	ANI 0
;TEST "JZ"
	JZ (J010)
	CALL (CPUER)
;TEST "JNC"
;J010:	JNC (J020)
J010:	JNC (J030)
	CALL CPUER
;TEST "JPE"
J020:	JPE (J030)
	CALL CPUER
;TEST "JP"	
J030:	JP (J040)
	CALL	CPUER
;Test JNZ
J040:	JNZ (J050)
;TEST "JC"
	JC J050
;TEST "JPO"
	JPO (J050)
;TEST "JM"
	JM J050
;TEST "JMP" (IT'S A LITTLE LATE,BUT WHAT THE HELL!
	JMP J060
J050:	CALL CPUER
;Set A=6,C=0,P=1,S=0,Z=0
J060:	ADI 6
;TEST "JNZ"
	JNZ J070
	CALL CPUER
;TEST "JC"
J070:	JC J080
;TEST "JPO"
	JPO J080
;TEST "JP"
	JP J090
J080:	CALL CPUER
;A=76H,C=0,P=0,S=0,Z=0
J090:	ADI	070H	
;TEST "JPO"
	JPO	J100
	CALL	CPUER
J100:	JM	J110
	JZ	J110
	JNC	J120
J110:	CALL	CPUER
;A=F7H,C=0,P=0,S=1,Z=0
J120:	ADI	081H
	JM	J130
	CALL	CPUER
J130:	JZ	J140
	JC	J140
	JPO	J150
J140:	CALL	CPUER
;A=F5H,C=1,P=1,S=1,Z=0
J150:	ADI	0FEH	
	JC	J160
	CALL	CPUER
J160:	JZ	J170
	JPO	J170
	JM	AIMM
J170:	CALL	CPUER
;
;
;
;TEST ACCUMULATOR IMMEDIATE INSTRUCTIONS
;
;A=F5H,C=0,Z=0
AIMM:	CPI	0
	JC	CPIE
	JZ	CPIE
;A=F5H,C=0,Z=1
	CPI	0F5H
	JC	CPIE	
	JNZ	CPIE	
;A=F5H,C=1,Z=0
	CPI	0FFH
	JZ	CPIE	
	JC	ACII	
CPIE:	CALL	CPUER
;A=F5H+0AH+CARRY(1)=0,C=1
ACII:	ACI	00AH
;A=0+0AH+CARRY(0)=0BH,C=0
	ACI	00AH
	CPI	00BH
	JZ	SUII	
	CALL	CPUER
;A=FFH,C=0
SUII:	SUI	00CH
;A=F0H,C=1
	SUI	00FH
	CPI	0F0H
	JZ	SBII
	CALL	CPUER
;A=F0H-0F1H-CARRY(0)=FFH,C=1
SBII:	SBI	0F1H
;A=FFH-OEH-CARRY(1)=F0H,C=0
	SBI	00EH	
	CPI	0F0H
	JZ	ANII
	CALL	CPUER
;A=F0H<AND>55H=50H,C=0,P=1,S=0,Z=0
ANII:	ANI	055H
	CPI	050H
	JZ	ORII
	CALL	CPUER
;A=50H<OR>3AH=7AH,C=0,P=0,S=0,Z=0
ORII:	ORI	03AH
	CPI	07AH
	JZ	XRII
	CALL	CPUER
;A=7AH<XOR>0FH=75H,C=0,P=0,S=0,Z=0
XRII:	XRI	00FH
	CPI	075H
	JZ	C010
	CALL	CPUER

C010:	MVI A,1
	OUT 3
	HLT

CPUER:	MVI A,255
	OUT 3
	HLT

	.org 512
STACK:	.byte 0

	.end
